<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

  <title>update user</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
        crossorigin="anonymous">
  <style>body { background-color: black;   }</style>
</head>
<body>
<div th:if="${param.success}"  >
  <div class="alex alert-info">User updated successfully! </div>
</div>

<div class="container-fluid bg-dark text-light py-3">   <header class="text-center">     <h1 class="display-6">Update User Info</h1>
  </header>  </div>



<section class="container my-2 bg-dark w-50 text-light p-2" >

  <form action="/adduser/updateuser" method="post" th:object="${user}" class="row g-3 p-3"
        style="box-shadow: 0 0 100px rgba(31, 81, 255, 0.8);">
    <div style="text-align: center;">
      <h2 style="color: lime;">Update user</h2>
      <br>

      <label for="id" class="form-label" style="margin-right: 10px;">user id</label>
      <input type="text" th:name="id" id="id" th:field="${user.id}" readonly="readonly" style="width: 30px; background-color: lightgreen;"/>

    </div>
    <div class="col-md-6">
      <label for="username" class="form-label">User Name</label>
            <input type="text" th:name="username" class="form-control"
             th:value="${user.username}" id="username" />
    </div>

    <div class="col-md-6">
      <label for="fullname" class="form-label">full name</label>
      <input type="text" th:name="fullname" class="form-control"
             th:value="${user.fullname}" id="fullname" />
    </div>

    <div class="col-md-6">
      <label for="email" class="form-label">Email</label>
      <input type="email" th:name="email" class="form-control"
             th:value="${user.email}" id="email" />
    </div>
    <div class="col-md-6">
      <label for="phonenumber" class="form-label">Phone Number</label>
      <input type="text" th:name="phonenumber" class="form-control"
             th:value="${user.phonenumber}" id="phonenumber" />
    </div>

    <div class="col-md-6" style="color: lime">
      <label for="enabled" class="form-label">Enabled: 0  or 1</label>
      <input type="text" th:name="enabled" class="form-control"
             th:value="${user.enabled}" id="enabled" />
    </div>

    <div class="form-group">
      <label for="role">Current Roles for User :</label>
      <select id="role" name="role" class="form-control" multiple="multiple">
        <option th:each="role : ${allRoles}" th:value="${role}" style="font-weight: bold;" th:text="${role.name}"
                th:selected="${userRoles.contains(role)}"></option>
      </select>
    </div>

    <div class="col-md-12">
      <label for="role" class="form-label" style="color:lime">Please Select Roles for User Before Updating!</label>

      <br>

      <div style="display: flex; flex-wrap: wrap;">

      <div style="margin-top:5px; ">
        <input type="checkbox" th:id="userCheckbox" th:name="userRoles" th:value="ROLE_USER"
               th:checked="${userRoles.contains('ROLE_USER')}" />
        <label th:for="supervisorCheckbox">ROLE_USER</label>
      </div>

<!--        border: 5px solid red;-->

      <div style="margin-top:5px;  margin-left: 30px; ">
        <input type="checkbox" th:id="supervisorCheckbox" th:name="userRoles" th:value="ROLE_SUPERVISOR"
               th:checked="${userRoles.contains('ROLE_SUPERVISOR')}" />
        <label th:for="supervisorCheckbox">ROLE_SUPERVISOR</label>
      </div>

      <div style="margin-top:5px;margin-left: 30px ">
        <input type="checkbox" th:id="adminCheckbox" th:name="userRoles" th:value="ROLE_ADMIN"
               th:checked="${userRoles.contains('ROLE_ADMIN')}" />
        <label th:for="adminCheckbox">ROLE_ADMIN</label>
      </div>

      </div>
    </div>


    <div class="col-md-12">
      <button type="submit" class="btn btn-primary" style="margin-right: 20px;">Update User</button>
    </div>

  </form>



</section>



</body>
</html>