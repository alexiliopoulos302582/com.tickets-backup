<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <title>update user</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <style>body { background-color: black;   }</style>
</head>
<body>
<br>
<div th:if="${param.success}" class="d-flex justify-content-center align-items-center">
    <div class="alex alert-info" style="font-size: 20px;font-weight: bold;">profile details updated successfully!</div>
</div>

<br>

<div class="container-fluid bg-dark text-light py-3">
    <header class="text-center">
        <h1 class="display-6">Update profile Info</h1>
    </header>
</div>

<section class="container my-2 bg-dark w-50 text-light p-2">

    <form action="/adduser/updateprofile" method="post" th:object="${user}"
          onsubmit="return validatePassword()" class="row g-3 p-3"
          style="box-shadow: 0 0 100px rgba(31, 81, 255, 0.8);">


        <div style="text-align: center;">
            <h2 style="color: lime;">Update profile</h2>
            <br>

            <label for="id" class="form-label" style="margin-right: 10px;">user id</label>
            <input type="text" th:name="id" id="id" th:field="${user.id}"
                   readonly="readonly" style="width: 30px; background-color: lightgreen;"/>

        </div>
        <div class="col-md-6">
            <label for="username" class="form-label">User Name</label>
            <input type="text" th:name="username" class="form-control"
                   th:value="${user.username}" id="username"/>
        </div>

        <div class="col-md-6">
            <label for="fullname" class="form-label">full name</label>
            <input type="text" th:name="fullname" class="form-control"
                   th:value="${user.fullname}" id="fullname"/>
        </div>


        <div class="col-md-6">
            <label for="newPassword" class="form-label">New Password</label>
            <input type="password" th:name="newPassword" class="form-control" id="newPassword" placeholder="********"/>
        </div>

        <div class="col-md-6">
            <label for="confirmPassword" class="form-label">Confirm New Password</label>
            <input type="password" th:name="confirmPassword" class="form-control" id="confirmPassword"
                   placeholder="********"/>
        </div>


        <script th:inline="javascript">
    function validatePassword() {
        var newPassword = document.getElementById('newPassword').value;
        var confirmPassword = document.getElementById('confirmPassword').value;

        if (newPassword !== confirmPassword) {
            alert('New passwords do not match');
            return false;
        }

        return true;
    }


        </script>

        <!--    th:value="${user.password}"-->

        <div class="col-md-6">
            <label for="email" class="form-label">Email</label>
            <input type="email" th:name="email" class="form-control"
                   th:value="${user.email}" id="email"/>
        </div>
        <div class="col-md-6">
            <label for="phonenumber" class="form-label">Phone Number</label>
            <input type="text" th:name="phonenumber" class="form-control"
                   th:value="${user.phonenumber}" id="phonenumber"/>
        </div>

        <div class="col-md-12">
            <button type="submit" class="btn btn-primary" style="margin-right: 20px;">Update my profile info</button>
            <a th:href="@{/home}" class="btn btn-success" style="margin-top: 0px; margin-right: 60px;">Home</a>
        </div>


    </form>


</section>


</body>
</html>